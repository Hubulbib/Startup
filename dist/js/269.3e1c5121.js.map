{"version":3,"file":"js/269.3e1c5121.js","mappings":"kRAsCA,MAAMA,GAAUC,EAAAA,EAAAA,IAAI,IACdC,GAAWD,EAAAA,EAAAA,IAAI,I,OAiCrBE,EAAa,CACXH,UACAE,cAGFE,EAAAA,EAAAA,KAAU,KACR,MAAMC,EAAWC,SAASC,iBAAiB,eAE3CF,EAASA,EAASG,OAAS,GAAGC,MAAMC,QAAU,iBAAiB,I,shBC1EjE,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,wBCPO,IAkBIC,EAASA,CAACC,EAAO,KAC1BC,OAAOC,gBAAgB,IAAIC,WAAWH,IAAOI,QAAO,CAACC,EAAIC,KACvDA,GAAQ,GAEND,GADEC,EAAO,GACHA,EAAKC,SAAS,IACXD,EAAO,IACTA,EAAO,IAAIC,SAAS,IAAIC,cACtBF,EAAO,GACV,IAEA,IAEDD,IACN,I,mVC3BL,MAAMI,GAAQrB,EAAAA,EAAAA,IAAI,MACZsB,GAActB,EAAAA,EAAAA,IAAI,MAElBuB,GAAOvB,EAAAA,EAAAA,IAAI,MACXwB,GAAOxB,EAAAA,EAAAA,IAAI,MACXyB,GAAQzB,EAAAA,EAAAA,IAAI,MAEZ0B,GAAO1B,EAAAA,EAAAA,IAAI,CACfwB,KAAM,CAACb,EAAO,IACdc,MAAO,CAACd,EAAO,MAGXgB,EAAOC,IACXF,EAAKG,MAAMD,GAAME,KAAKnB,EAAO,GAAG,EAG5BoB,EAAgBA,KACpB,MAAMC,EAAW,IAAIC,SAASV,EAAKM,OAEnCG,EAASE,OAAO,QAASb,EAAMQ,OAC/BG,EAASE,OAAO,cAAeZ,EAAYO,OAE3C,IAAK,MAAMM,KAAQX,EAAKK,MACtBG,EAASE,OAAOC,EAAKlC,SAAUkC,EAAKpC,SAGtC,IAAK,MAAMoC,KAAQV,EAAMI,MACvBG,EAASE,OAAOC,EAAKlC,SAAUkC,EAAKpC,QACtC,E,osCC3BF,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,+JCLA,MAAM,EAAc,EAEpB,O","sources":["webpack://vue-course/./src/components/EditorBlock.vue","webpack://vue-course/./src/components/EditorBlock.vue?47ec","webpack://vue-course/./node_modules/nanoid/index.browser.js","webpack://vue-course/./src/modules/ArticleCms.vue","webpack://vue-course/./src/modules/ArticleCms.vue?02a7","webpack://vue-course/./src/views/CreateArticle.vue"],"sourcesContent":["<template>\r\n  <li class=\"item\">\r\n    <input v-model=\"subTitle\" type=\"text\" class=\"input-header\" placeholder=\"Заголовок\" />\r\n    <!-- :modules=\"modules\" -->\r\n    <QuillEditor\r\n      class=\"quill-editor\"\r\n      :toolbar=\"[\r\n        ['bold', 'italic', 'underline', 'strike'],\r\n        ['blockquote', 'code-block'],\r\n        ['link'],\r\n        [{ list: 'ordered' }, { list: 'bullet' }],\r\n        ['clean'],\r\n      ]\"\r\n      v-model:content=\"content\"\r\n      contentType=\"html\"\r\n      content=\"html\"\r\n      placeholder=\"Контент\"\r\n    >\r\n    </QuillEditor>\r\n  </li>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref, h } from \"vue\";\r\n// import ImageUploader from \"quill-image-uploader\";\r\n// import axios from \"axios\";\r\n\r\n// const props = defineProps({\r\n//   id: {\r\n//     type: String,\r\n//     required: true\r\n//   }\r\n// })\r\n\r\n// const emits = defineEmits([\r\n//   'onTextChange'\r\n// ])\r\n\r\nconst content = ref(\"\");\r\nconst subTitle = ref(\"\")\r\n\r\n// const modules = {\r\n//   name: \"imageUploader\",\r\n//   module: ImageUploader,\r\n//   options: {\r\n//     upload: (file) => {\r\n//       return new Promise((resolve, reject) => {\r\n//         const formData = new FormData();\r\n//         formData.append(\"image\", file);\r\n\r\n//         axios\r\n//           .post(\"/upload-image\", formData)\r\n//           .then((res) => {\r\n//             console.log(res);\r\n//             resolve(res.data.url);\r\n//           })\r\n//           .catch((err) => {\r\n//             reject(\"Upload failed\");\r\n//             console.error(\"Error:\", err);\r\n//           });\r\n//       });\r\n//     },\r\n//   },\r\n// };\r\n\r\n// const onTextChange = () => {\r\n//   emits('onTextChange', {\r\n//     id: props.id,\r\n//     content: content.value\r\n//   })\r\n// }\r\n\r\ndefineExpose({\r\n  content,\r\n  subTitle\r\n})\r\n\r\nonMounted(() => {\r\n  const lastSpan = document.querySelectorAll(\".ql-formats\");\r\n\r\n  lastSpan[lastSpan.length - 1].style.cssText = \"margin-right: 0\";\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n\r\n  &:not(:last-child) {\r\n    margin-bottom: 40px;\r\n  }\r\n}\r\n\r\n.input-header {\r\n  display: block;\r\n  padding: 0 1px;\r\n  margin-bottom: 20px;\r\n  border: none;\r\n  border-radius: 0;\r\n\r\n  width: 100%;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    background-color: transparent;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: transparent;\r\n  }\r\n\r\n  &:active {\r\n    background-color: transparent;\r\n  }\r\n}\r\n</style>","import script from \"./EditorBlock.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditorBlock.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditorBlock.vue?vue&type=style&index=0&id=7ffb678c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7ffb678c\"]])\n\nexport default __exports__","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","<script setup>\r\nimport EditorBlock from \"@/components/EditorBlock.vue\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { ref } from \"vue\";\r\n\r\nconst title = ref(null);\r\nconst description = ref(null);\r\n\r\nconst form = ref(null);\r\nconst body = ref(null);\r\nconst tasks = ref(null);\r\n\r\nconst data = ref({\r\n  body: [nanoid(5)],\r\n  tasks: [nanoid(5)],\r\n});\r\n\r\nconst add = (name) => {\r\n  data.value[name].push(nanoid(5));\r\n};\r\n\r\nconst createArticle = () => {\r\n  const formData = new FormData(form.value);\r\n\r\n  formData.append(\"title\", title.value);\r\n  formData.append(\"description\", description.value);\r\n\r\n  for (const item of body.value) {\r\n    formData.append(item.subTitle, item.content);\r\n  }\r\n\r\n  for (const item of tasks.value) {\r\n    formData.append(item.subTitle, item.content);\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <form ref=\"form\" @submit.prevent=\"createArticle\" class=\"article-form\">\r\n    <div class=\"meta flex-c\">\r\n      <input ref=\"title\" type=\"text\" placeholder=\"Название статьи\" />\r\n      <textarea\r\n        ref=\"description\"\r\n        rows=\"1\"\r\n        placeholder=\"Краткое описание\"\r\n      ></textarea>\r\n    </div>\r\n\r\n    <div class=\"content flex-c\">\r\n      <h3>Контент статьи</h3>\r\n      <div class=\"wrapper\">\r\n        <ul class=\"list\">\r\n          <editor-block ref=\"body\" v-for=\"key in data.body\" :key=\"key\" />\r\n        </ul>\r\n        <my-button @click=\"add('body')\" class=\"list-btn\" type=\"button\">\r\n          <Icon icon=\"material-symbols:add\" width=\"28\" height=\"28\" />\r\n        </my-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tasks flex-c\">\r\n      <h3>Задания</h3>\r\n      <div class=\"wrapper\">\r\n        <ul class=\"list\">\r\n          <editor-block ref=\"tasks\" v-for=\"key in data.tasks\" :key=\"key\" />\r\n        </ul>\r\n        <my-button @click=\"add('tasks')\" class=\"list-btn\">\r\n          <Icon icon=\"material-symbols:add\" width=\"28\" height=\"28\" />\r\n        </my-button>\r\n      </div>\r\n    </div>\r\n\r\n    <my-button class=\"article-form__submit\" type=\"submit\">Send</my-button>\r\n  </form>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.article-form {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n\r\n  & .meta {\r\n    gap: 60px;\r\n    margin-bottom: 40px;\r\n  }\r\n\r\n  & input,\r\n  & textarea {\r\n    border: none;\r\n    border-radius: 0;\r\n    padding: 0;\r\n\r\n    font-size: 22px;\r\n\r\n    font-weight: normal;\r\n    font-family: \"Roboto\";\r\n\r\n    &:focus {\r\n      outline: none;\r\n      background-color: transparent;\r\n    }\r\n\r\n    &:hover {\r\n      background-color: transparent;\r\n    }\r\n\r\n    &:active {\r\n      background-color: transparent;\r\n    }\r\n  }\r\n\r\n  &__submit {\r\n    align-self: flex-end;\r\n  }\r\n}\r\n\r\n.wrapper {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.list-btn {\r\n  align-self: flex-end;\r\n  transition: background-color 0.15s ease-in-out;\r\n\r\n  &:hover {\r\n    background-color: #fff !important;\r\n\r\n    & svg {\r\n      color: #4bb4ff;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./ArticleCms.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ArticleCms.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ArticleCms.vue?vue&type=style&index=0&id=747f08f2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-747f08f2\"]])\n\nexport default __exports__","import script from \"./CreateArticle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CreateArticle.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["content","ref","subTitle","__expose","onMounted","lastSpan","document","querySelectorAll","length","style","cssText","__exports__","nanoid","size","crypto","getRandomValues","Uint8Array","reduce","id","byte","toString","toUpperCase","title","description","form","body","tasks","data","add","name","value","push","createArticle","formData","FormData","append","item"],"sourceRoot":""}